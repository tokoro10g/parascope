Specification Category	Requirement ID	Requirement Type	Requirement Description (Detailed)	Building Block/Scope	Priority (P1/P2/P3)	Release Phase	Acceptance Criteria	Dependencies/Tooling (Suggested)	Decision/Conflict Notes
Authentication	AUTH-01.0	Authentication Policy	The system MUST NOT implement traditional LOGIN AUTHENTICATION.	Authentication	P1	Initial Release	No login screen is presented to the user.	N/A	Focus on open access/sharing.
Authentication	AUTH-02.0	Identity Capture	Users MUST be prompted to enter their "name" upon first access.	Authentication	P1	Initial Release	A name input modal/field is displayed only on the first visit.	Cookie Storage	The name is the primary form of identification for saving/sharing.
Authentication	AUTH-03.0	Persistence	The user's name MUST be saved in a COOKIE so they do not need to re-type it every time.	Authentication	P1	Initial Release	User name persists across browser sessions.	Cookie Storage	Enhances user experience.
Authentication	AUTH-04.0	Identity Change	A "Change user" button/menu MUST be provided to allow the user to modify their saved name.	Authentication	P1	Initial Release	User can successfully update their displayed name in the UI.	Frontend UI	Allows identity switching without clearing cookies manually.
Building Block: Function	BB-F-01.0	Functional	A Function MUST accept ONE OR MORE Parameters as input.	Function Logic	P1	Initial Release	Function editor requires at least one parameter connection before saving.	N/A	Defines the relationship/calculation between parameters.
Building Block: Function	BB-F-02.0	Functional	A Function MUST output ONE OR MORE Parameters.	Function Logic	P1	Initial Release	Function editor allows defining multiple output sockets. Python functions returning tuples map to these outputs.	N/A	Allows returning complex results (e.g., vector components).
Building Block: Function	BB-F-03.0	Data Structure	A Function MUST have a "name" which is constrained to be a VALID PYTHON FUNCTION NAME.	Function Data	P1	Initial Release	Input validation blocks non-Python-compliant function names.	Python Naming Conventions	Used for identification and invocation.
Building Block: Function	BB-F-04.0	Data Structure	A Function MUST include a "description" field formatted using MARKDOWN.	Function Data	P1	Initial Release	Description field renders correctly as Markdown in the UI.	Markdown Library	For explanatory text about the function's operation.
Building Block: Function	BB-F-05.0	Execution	Functions MUST be written/implemented by users using PYTHON CODE.	Function Execution	P1	Initial Release	System executes user-provided Python code using `scipy`/`numpy` without error.	Python Backend	This enables access to standard scientific libraries like "scipy" and "numpy".
Building Block: Function	BB-F-06.0	Integration	The system MUST map connected INPUTS (Parameters, Option Nodes) to variables in the Python code.	Function Logic	P1	Initial Release	Variables in the user's Python code (e.g., `x`) correspond to input sockets/connections of the same name.	Code Parsing/Introspection	Ensures the Python code can access the graph data.
Building Block: Constant	BB-P-01.0	Data Structure	A Constant MUST consist of a VALUE which can be either NUMERICAL (Float/Int) or a SELECTION from a list of options (Enum).	Constant Data	P1	Initial Release	User can select the type (Number or Option).	N/A	Arrays/Matrices are NOT supported.
Building Block: Constant	BB-P-03.0	Data Structure	A Constant MUST include a "description" field formatted using MARKDOWN.	Constant Data	P1	Initial Release	Description field renders correctly as Markdown in the UI.	Markdown Library	For explanatory text about the parameter.
Building Block: Constant	BB-P-05.0	Data Structure	A Constant MUST define an "acceptable range" which serves as REQUIREMENTS OR PHYSICAL LIMITATIONS.	Constant Data	P1	Initial Release	System flags or rejects values outside the defined range.	Validation Logic	Used for constraints and validation.
Building Block: Constant	BB-P-06.0	Data Structure	A Constant MUST allow defining a list of OPTIONS (strings) if the type is set to 'Option'.	Constant Data	P1	Initial Release	User can add/remove options.	N/A	Used for logic branching.
Building Block: Input Node	BB-I-01.0	Data Structure	An Input Node MUST represent an EXTERNAL ENTRY POINT for data into the sheet. Can be Numerical or Option type.	Input Node	P1	Initial Release	Distinct visual appearance from Parameters.	N/A	Explicitly defines the API of the sheet.
Building Block: Input Node	BB-I-02.0	Integration	Input Nodes MUST receive values from the TABLE VIEW for local execution.	Input Node	P1	Initial Release	Input Nodes do not store a persistent static value; values are supplied transiently via the UI (Table View) or URL.	N/A	Separates definition from execution state.
Building Block: Input Node	BB-I-03.0	Data Structure	An Input Node MUST define an "acceptable range" which serves as REQUIREMENTS OR PHYSICAL LIMITATIONS.	Input Node	P1	Initial Release	System flags or rejects values outside the defined range.	Validation Logic	Used for constraints and validation.
Building Block: Input Node	BB-I-04.0	Data Structure	An Input Node MUST include a "description" field formatted using MARKDOWN.	Input Node	P1	Initial Release	Description field renders correctly as Markdown in the UI.	Markdown Library	For explanatory text about the input.
Building Block: Input Node	BB-I-05.0	Data Structure	An Input Node MUST allow defining a list of OPTIONS (strings) if the type is set to 'Option'.	Input Node	P1	Initial Release	User can add/remove options.	N/A	Used for logic branching.
Building Block: Output Node	BB-O-01.0	Data Structure	An Output Node MUST represent an EXTERNAL EXIT POINT for data from the sheet.	Output Node	P1	Initial Release	Distinct visual appearance. Defines the return values of the sheet-as-function.	N/A	Explicitly defines the API of the sheet.
Building Block: Output Node	BB-O-02.0	Data Structure	An Output Node MUST define an "acceptable range" which serves as REQUIREMENTS OR PHYSICAL LIMITATIONS.	Output Node	P1	Initial Release	System flags or rejects values outside the defined range.	Validation Logic	Used for constraints and validation.
Building Block: Output Node	BB-O-03.0	Data Structure	An Output Node MUST include a "description" field formatted using MARKDOWN.	Output Node	P1	Initial Release	Description field renders correctly as Markdown in the UI.	Markdown Library	For explanatory text about the output.
Building Block: Connection	BB-C-01.0	Topology	Connections MUST be directed from an OUTPUT SOCKET to an INPUT SOCKET.	Graph Topology	P1	Initial Release	Input sockets accept MAX ONE connection (No Fan-In). Output sockets accept MULTIPLE connections (Fan-Out).	Rete.js Constraints	Prevents ambiguous data flow.
Building Block: Sheet	BB-S-01.0	Data Structure	A Sheet (also called a "graph") MUST represent a graph structure composed of Constants and Functions.	Sheet/Graph	P1	Initial Release	Sheet save/load process preserves all Constant and Function node data.	Rete.js (Frontend), NetworkX (Backend)	The primary container for calculations.
Building Block: Sheet	BB-S-02.0	Hierarchy	Sheets MUST be capable of being NESTED; i.e., a sheet can be imported as a Function in another sheet.	Sheet/Graph	P1	Initial Release	Nested sheet executes as a single function node with correct I/O.	Graph Processing Logic	Supports modularity.
Building Block: Sheet	BB-S-03.0	Hierarchy	The mechanism for handling nested sheets SHOULD initially be LINKING rather than copying.	Sheet/Graph	P1	Initial Release	Changes in the source sheet immediately reflect in the linked sheet function.	N/A	Potential conflict with future versioning features must be acknowledged.
Building Block: Sheet	BB-S-04.0	Data Structure	A Sheet MUST define its PUBLIC INTERFACE (Inputs and Outputs) using explicit INPUT and OUTPUT NODES.	Sheet/Graph	P1	Initial Release	Nodes added as "Input Nodes" become input sockets; "Output Nodes" become output sockets when nested.	Graph Traversal	Essential for nesting and explicit API definition.
Building Block: Sheet	BB-S-05.0	Integration	When a Sheet is nested as a Function, ALL of its Input Nodes MUST be connected in the parent graph (No Default Values).	Sheet/Graph	P1	Initial Release	System prevents saving or calculating if a nested sheet node has unconnected input sockets.	Graph Validation	Enforces explicit data flow.
Building Block: Sheet	BB-S-06.0	Integration	Input/Output mapping for nested sheets MUST use the NODE NAME (Label) as the key, not the UUID.	Sheet/Graph	P1	Initial Release	Renaming an input node in the child sheet updates the socket name in the parent sheet upon reload.	Graph Processing	Ensures readability and stability across UUID changes.
Building Block: Sheet	BB-S-07.0	Integration	When loading a sheet, the system MUST synchronize the I/O ports of any nested sheet nodes with their current definition.	Sheet/Graph	P1	Initial Release	Opening a parent sheet automatically updates the sockets of nested sheet nodes to match the child sheet's current state.	Frontend Load Logic	Prevents stale interfaces.
Building Block: Sheet	BB-S-08.0	Integration	When loading a sheet, if a connection targets a port that no longer exists (due to child sheet update), the system MUST remove the invalid connection.	Sheet/Graph	P1	Initial Release	Invalid connections are pruned automatically on load.	Frontend Load Logic	Maintains graph integrity.
Core Functionality	CF-01.0	Functional	The system MUST manage parameters and their relations (functions) structured as a DIRECTED ACYCLIC GRAPH (DAG).	System Architecture	P1	Initial Release	Circular references must be rejected at input time.	NetworkX (for DAG processing)	CIRCULAR dependencies MUST BE AVOIDED (System Constraint).
Core Functionality	CF-02.0	Functional	The system MUST serve as a DESIGN TOOL specifically for ENGINEERING CALCULATIONS.	System Purpose	P1	Initial Release	Verify application startup time < 5 seconds and calculation fidelity.	numpy, scipy	Application domains include, but are NOT LIMITED TO, rockets, satellites, and robots.
Data Handling	DH-01.0	Persistence	The graph structures (Sheets) MUST be SAVED ON THE SERVER.	Data Persistence	P1	Initial Release	Sheet data persists across server restarts.	PostgreSQL	Enables long-term storage of the engineering model.
Data Handling	DH-02.0	Persistence	The input and output VALUES of the graphs MUST be SAVED ON THE SERVER.	Data Persistence	P1	Initial Release	All parameter values are restored correctly upon sheet load.	PostgreSQL	Saves the current state of the calculation results.
Data Handling	DH-03.0	Sharing	Saved graphs and values MUST be SHARED with ANYONE who accesses the service.	Data Sharing	P1	Initial Release	Any user can view and edit the sheet without permission issues.	Server Access Control	Open access system design.
Data Handling	DH-04.0	Data Structure	All Sheets, Functions, and Parameters MUST be assigned a UUID (Universally Unique Identifier).	Data Model	P1	Initial Release	Database schema uses UUIDs; API routes use UUIDs.	Python uuid, PostgreSQL	Required for stable, obscure URLs (prevents ID enumeration).
Execution Environment	EE-01.0	Processing	Function calculations MUST run in BACKGROUND WORKER PROCESSES (or threads) within a pool.	Backend Architecture	P1	Initial Release	Verify calculation threads do not block the main server process.	Python Backend	Prevents blocking and supports libraries like "scipy" and "numpy".
Execution Environment	EE-02.0	Optimization	The system MUST GENERATE A SINGLE PYTHON SCRIPT representing the entire graph execution flow before execution.	Backend Architecture	P1	Initial Release	The generated script is executed once, rather than executing individual nodes sequentially.	Python AST / Code Generation	Reduces overhead of multi-process management for large graphs.
Error Handling & Resilience	EH-01.0	Execution Error	When user-provided Python code (Function) raises an EXCEPTION (e.g., `NameError`, `ZeroDivisionError`), the calculation MUST gracefully fail.	Calculation Engine	P1	Initial Release	The affected Parameter node displays a distinct error state/message without crashing the application.	Python Backend/Logging	Prevents application crash due to user code faults.
Error Handling & Resilience	EH-02.0	Error Reporting	Calculation failures (EH-01.0) MUST be clearly indicated on the corresponding OUTPUT PARAMETER and must include the full STACK TRACE.	Frontend/UI	P1	Initial Release	Error message includes the specific exception type and relevant line number from the function code.	Frontend/UI Error Display	Critical for user debugging of functions.
Error Handling & Resilience	EH-03.0	Input Validation	When a user inputs a value that VIOLATES the specified data type, the input MUST be rejected.	Input Validation	P1	Initial Release	Input field shows immediate visual feedback (e.g., red outline) when type constraints are broken.	Frontend Validation	Prevents corrupted data from entering the calculation graph.
Error Handling & Resilience	EH-04.0	Graph Integrity	Deleting a Parameter MUST automatically remove ALL CONNECTIONS between that Parameter and any connected Functions.	Data Structure/DAG	P1	Initial Release	No orphaned connections or invalid references remain in the sheet data structure after a node deletion.	Rete.js/Graph Cleanup Logic	Ensures DAG integrity and prevents hidden errors in deleted items.
Error Handling & Resilience	EH-05.0	Dependency Check	Before saving a Function (BB-F-05.0), the system MUST CHECK that all referenced parameter NAMES actually exist in the current sheet scope.	Data Structure/DAG	P1	Initial Release	Function save button is disabled, or a warning is displayed if a referenced variable name is missing.	Function Parser/Linter	Prevents saving functions that will immediately fail due to undefined references.
Error Handling & Resilience	EH-06.0	Persistence Failure	If a SAVE OPERATION to the database (DH-01.0) fails, the user MUST be notified, and the system SHOULD attempt to re-save automatically.	Data Persistence	P2	Initial Release	User sees an "Error: Data not saved" notification, and a retry is logged within 30 seconds.	Database Transaction Management	Ensures the user is aware of potential data loss during system failure.
Error Handling & Resilience	EH-07.0	Numerical Corner Case	The system MUST explicitly handle and log instances of NUMERICAL OVERFLOW or UNDERFLOW during Function execution.	Calculation Engine	P2	Future Feature	Over/underflow triggers a specific, non-Python-generic exception that is reported via EH-02.0.	Python `warnings` module/Custom Error	Essential for high-precision scientific calculations.
Error Handling & Resilience	EH-08.0	Concurrent Editing	If a user attempts to edit a sheet while the (future) CONCURRENCY MUTEX (FS-C-01.0) is active, the system MUST display a READ-ONLY warning.	Frontend/UI/Concurrency	P2	Future Feature	UI clearly indicates the sheet is currently locked by another user and prevents editing actions.	Mutex/Locking Mechanism	Corner case for multi-user editing safety.
Error Handling & Resilience	EH-09.0	Data Integrity	All Input Node names within a single Sheet (BB-S-01.0) MUST be UNIQUE.	Input Data/Scoping	P1	Initial Release	Attempting to create or rename an input node using an existing name must be blocked.	Input Validation Logic	Ensures correct variable resolution within user-written Python functions (BB-F-05.0).
Error Handling & Resilience	EH-10.0	Conflict Resolution	If a user attempts to create a duplicate Parameter name (EH-09.0), the system MUST display an immediate, explicit error message.	Frontend/UI Validation	P1	Initial Release	Input field shows an error status and prevents the creation/renaming operation until the conflict is resolved by the user.	Frontend/UI Error Display	Critical for user guidance and maintaining the integrity of the Sheet's variable namespace.
Error Handling & Resilience	EH-11.0	Execution Safety	User functions MUST be subject to a strict EXECUTION TIMEOUT (e.g., 5 seconds).	Calculation Engine	P1	Initial Release	Functions running longer than the limit are terminated, and a "TimeoutError" is returned.	Python `signal` or `multiprocessing`	Prevents infinite loops in user code from hanging the server.
Error Handling & Resilience	EH-12.0	Input Validation	The system MUST FAIL the calculation if any INPUT NODE does not have a value specified.	Calculation Engine	P1	Initial Release	Calculation returns an error indicating which input node is missing a value.	Backend Validation	Ensures deterministic calculation.
Error Handling & Resilience	EH-13.0	Graph Integrity	The system MUST warn the user when deleting or renaming an Input or Output node, as this may break parent sheets.	Frontend UI	P1	Initial Release	A confirmation dialog or toast warning appears upon action.	Frontend Logic	Prevents accidental breakage of dependencies.
Data Handling	DH-09.0	Attachment Support	The system MUST allow users to attach IMAGE FILES to a PARAMETER.	Data Structure	P2	Initial Release	User can successfully upload and view an image attached to a Parameter.	File Storage/Linking	Used for diagrams, references, etc.
Data Handling	DH-10.0	Attachment Support	The system MUST allow users to attach IMAGE FILES to a FUNCTION.	Data Structure	P2	Initial Release	User can successfully upload and view an image attached to a Function.	File Storage/Linking	Used for function flowcharts, source material.
Data Handling	DH-11.0	Attachment Support	The system MUST allow users to attach IMAGE FILES to a SHEET.	Data Structure	P2	Initial Release	User can successfully upload and view an image attached to a Sheet.	File Storage/Linking	Used for system diagrams, high-level documentation.
Concurrency	CO-01.0	Lock Acquisition	The system MUST LOCK the sheet for the current user (based on cookie name) upon opening.	Session Management	P1	Initial Release	Opening a sheet grants exclusive write access if not already locked.	Backend Lock Table	Prevents simultaneous editing.
Concurrency	CO-02.0	Lock Release	The system MUST RELEASE the lock when the user closes the sheet or navigates away.	Session Management	P1	Initial Release	Closing the tab or clicking Dashboard unlocks the sheet.	Beacon API / OnUnload	Maximizes availability.
Concurrency	CO-03.0	Forced Takeover	The system MUST allow a user to FORCIBLY ACQUIRE the lock if it is held by another user.	Session Management	P1	Initial Release	"Take Over" button transfers ownership to the current user.	Backend Lock Override	Solves abandoned locks.
Concurrency	CO-04.0	Lock Maintenance	The client MUST POLL the server periodically (e.g., every 10s) to refresh the lock and verify ownership.	Session Management	P1	Initial Release	Lock expires if no heartbeat is received (e.g., after 30s).	Frontend Polling	Softly ensures active editing.
Concurrency	CO-05.0	Read-Only Mode	If a sheet is locked by another user, the system MUST display it in READ-ONLY mode with a visible "Locked by [Name]" warning.	Frontend UI	P1	Initial Release	Editing actions are disabled; Take Over button is visible.	Frontend State	Prevents accidental conflicts.
Concurrency	CO-06.0	Dashboard Visibility	The Dashboard MUST display ACTIVE SESSIONS, showing which user is editing which sheet and for how long (TIME SINCE LAST SAVE).	Frontend UI	P1	Initial Release	Dashboard lists active locks/sessions.	Backend Session API	Enhances team awareness.
Future Scope: IDE Features	FS-IDE-01.0	Code Completion	The system SHOULD support PYTHON CODE COMPLETION within the function editing interface.	IDE/Function Editing	P3	Future Feature	User typing code in the function editor is presented with relevant Python suggestions.	Language Server Protocol	Improves user function writing experience.
Future Scope: Notifications	FS-N-01.0	Ownership	The system SHOULD support the concept of OWNERSHIP (or PIC) for parameters.	Data Structure	P2	Future Feature	Parameter metadata includes an editable "Owner" field (linked to user identity).	User/Parameter Relationship	Facilitates collaboration and accountability.
Future Scope: Notifications	FS-N-02.0	Notification Trigger	If a parameter's value is updated, a notification MUST be generated for the OWNER of any parameter it affects.	Notifications	P2	Future Feature	Changing an upstream parameter triggers a notification for the downstream owner.	Notification Service	Graph traversal logic required to identify affected owners.
Future Scope: Notifications	FS-N-03.0	Notification Content	The notification MUST indicate WHICH PARAMETER CHANGED and the TIMESTAMP of the change.	Notifications	P2	Future Feature	Notification message contains the required change details.	Notification Data Structure	Provides context for the change.
Future Scope: Notifications	FS-N-04.0	Notification Display	Notifications MUST be displayed in a LANDING/DASHBOARD PAGE; NO PUSH OR EMAIL notifications are required.	Frontend UI	P2	Future Feature	Notifications appear in a designated UI area upon login/access.	Frontend Dashboard	Simple, non-intrusive notification method given the lack of login auth.
Future Scope: Optimization	FS-O-01.0	Numerical Optimization	The ability to perform NUMERICAL OPTIMIZATION of output parameters by searching the input parameter space SHOULD be considered.	Calculation Engine	P3	Future Feature	Optimization function successfully minimizes or maximizes a target parameter.	Optimization Library	Advanced engineering analysis feature.
Future Scope: Versioning/Audit	FS-V-01.0	Audit Logging	A detailed LOG MUST be recorded for audit purposes, capturing "from what to what" and "who edited".	Data History	P2	Future Feature	System logs all creation/update/delete events for sheets, functions, and parameters.	PostgreSQL (Audit Tables)	Essential for regulated environments or complex projects.
Future Scope: Versioning/Audit	FS-V-02.0	Querying History	The audit log MUST be QUERYABLE by parameter, function, sheet, and user.	Data History	P2	Future Feature	Querying the audit log returns changes filtered by specified criteria.	PostgreSQL Query Design	Supports forensic analysis of changes.
Future Scope: Versioning/Audit	FS-V-03.0	Version Control	The system SHOULD support EDIT HISTORY and SNAPSHOT VERSIONING for ROLLBACK capability.	Data History	P3	Future Feature	User can successfully revert a sheet to a previous snapshot version.	Version Control System	Allows restoration to previous states.
Tooling/Architecture	T-BE-01.0	Backend Language	Backend MUST be implemented in PYTHON.	Backend Stack	P1	Core Tooling	N/A (Tooling Constraint)	Python	Required for "scipy"/"numpy" compatibility.
Tooling/Architecture	T-BE-02.0	Database	Data persistence SHOULD use POSTGRESQL.	Database	P1	Core Tooling	N/A (Tooling Constraint)	PostgreSQL	Robust relational database.
Tooling/Architecture	T-DEV-01.0	Code Quality	Code quality checks MUST be enforced using RUFF and BIOME.	Development Workflow	P1	Core Tooling	N/A (Tooling Constraint)	Ruff, Biome	Ensures maintainability across frontend/backend.
Tooling/Architecture	T-DEV-02.0	Packaging	UV + PNPM SHOULD be used for node package management.	Development Workflow	P1	Core Tooling	N/A (Tooling Constraint)	Uv, pnpm	Standardized package management.
Tooling/Architecture	T-DEV-03.0	Containerization	DOCKER COMPOSE MUST be used to launch both the backend and frontend components.	Deployment	P1	Core Tooling	N/A (Tooling Constraint)	Docker compose	Simplified development and deployment setup.
Tooling/Architecture	T-DEV-04.0	Repository Structure	The project MUST utilize a MONOREPO STRUCTURE.	Development Workflow	P1	Core Tooling	N/A (Tooling Constraint)	Monorepo Setup	Consolidated management of multiple components (frontend/backend).
Tooling/Architecture	T-DEV-05.0	File Storage	A DOCKER VOLUME MUST be used to persist uploaded files (attachments).	Deployment	P1	Core Tooling	N/A (Tooling Constraint)	Docker Volume	Ensures file persistence across container restarts.
Tooling/Architecture	T-FE-01.0	Frontend Framework	Frontend MUST be built using VITE + REACT + RETE.JS.	Frontend Stack	P1	Core Tooling	N/A (Tooling Constraint)	Vite, React, Rete.js	Standardized technology stack.
User Interaction	UI-01.0	Recalculation	When a user modifies an input parameter, the outputs MUST be RECALCULATED and UPDATED IMMEDIATELY (real-time).	Frontend/Calculation Engine	P1	Initial Release	Recalculation completes and updates UI within 500ms for small/medium graphs.	Vite + React + Rete.js, Python Backend	Behavior analogous to a traditional spreadsheet.
User Interaction	UI-02.0	Experimentation	The system MUST allow a user to EXPERIMENT with changing input parameters while actively editing a sheet.	Frontend	P1	Initial Release	Changes can be made and calculations run without mandatory saving.	Vite + React + Rete.js	Facilitates design iteration.
User Interaction	UI-03.0	Navigation	The system MUST support deep linking to specific Sheets via URL.	Routing	P1	Initial Release	Visiting /sheet/<uuid> loads the specific sheet state.	React Router	Enables sharing and collaboration.
User Interaction	UI-04.0	Navigation	The system SHOULD support deep linking to specific Parameters or Functions within a Sheet.	Routing	P2	Initial Release	URL fragments (e.g. #<node_uuid>) focus/highlight the target node.	React Router	Facilitates discussion on specific parts of a graph.
User Interaction	UI-05.0	Feedback	The system MUST provide visual confirmation (e.g., Toast notification) for successful actions like Saving.	Frontend UI	P1	Initial Release	"Saved successfully" toast appears after save.	Toast Library	Confirms persistence to the user.
User Interaction	UI-06.0	Interaction	Users MUST be able to add nodes via a CONTEXT MENU (Right-click) or Palette.	Frontend UI	P1	Initial Release	Right-clicking the canvas reveals options to add Parameters or Functions.	Rete.js Context Menu	Standard node editor interaction.
User Interaction	UI-07.0	Navigation	The system MUST support overriding INPUT NODE values via URL QUERY STRINGS (GET parameters) using the INPUT NAME as the key.	Routing	P2	Initial Release	Loading /sheet/uuid?mass=50 updates the "mass" Input Node value temporarily (Preview Mode).	React Router/URL Parsing	Allows sharing specific scenarios without saving new sheets.
User Interaction	UI-08.0	Navigation	Users MUST be able to "Drill Down" into a Nested Sheet via a Context Menu option "Edit Sheet".	Frontend UI	P1	Initial Release	Action opens the nested sheet's URL with current input values passed as Query Parameters (UI-07.0).	React Router	Seamless debugging of nested logic.
User Interaction	UI-09.0	Feedback	The system MUST provide a RUN BUTTON at the top of the TABLE VIEW to trigger calculation.	Frontend UI	P1	Initial Release	Clicking the button triggers the calculation of the sheet using current input values.	React Component	Acts as a trigger for the sheet execution.
User Interaction	UI-10.0	Navigation	The system MUST provide a DASHBOARD / LIST VIEW to display sheets created by the user.	Frontend UI	P1	Initial Release	Page at `/dashboard` lists sheets where owner matches current user cookie.	React Router	Essential for finding previous work.
User Interaction	UI-11.0	Interaction	The Dashboard MUST allow users to DELETE saved sheets.	Frontend UI	P2	Initial Release	User can remove a sheet. System SHOULD warn about potential broken dependencies.	Frontend UI	Basic management.
User Interaction	UI-12.0	Interaction	The Dashboard MUST allow users to DUPLICATE an existing sheet.	Frontend UI	P2	Initial Release	Action creates a deep copy of the sheet with a new UUID.	Backend Clone API	Facilitates forking/templating.
User Interaction	UI-13.0	Interaction	The Dashboard MUST allow users to COPY the SHARABLE URL of a sheet to the clipboard.	Frontend UI	P2	Initial Release	Clicking "Share" copies the full URL to clipboard and shows a toast.	Clipboard API	Simplifies sharing.
User Interaction	UI-14.0	Interaction	The system MUST allow users to EDIT the Sheet NAME and DESCRIPTION.	Frontend UI	P1	Initial Release	Clicking the sheet title allows renaming. Changes persist on Save.	Frontend UI	Critical for organizing work in the Dashboard.
User Interaction	UI-15.0	Interaction	The Graph Editor MUST support UNDO and REDO operations for graph changes.	Frontend UI	P2	Initial Release	Ctrl+Z / Ctrl+Y reverts/reapplies node and connection changes.	Rete.js History Plugin	Prevents frustration from accidental deletions.
User Interaction	UI-16.0	Interaction	The system MUST provide a SHEET PICKER MODAL to select a sheet for nesting (Import).	Frontend UI	P1	Initial Release	Modal lists user's sheets (filtered by name) to insert as a Function Node.	Frontend UI / API	Required for Scenario 5 (Nesting).
User Interaction	UI-17.0	Interaction	The system MUST provide a TOOLBAR with buttons for adding nodes (Input, Parameter, Option, Function, Output, Import).	Frontend UI	P1	Initial Release	Buttons are visible at the top of the editor; clicking adds the corresponding node to the center of the view.	Frontend UI	Improves discoverability compared to context menus.
User Interaction	UI-18.0	Feedback	The system MUST capture STDOUT from user functions and display it in a "Console" or "Logs" view.	Frontend UI	P2	Initial Release	`print()` statements in Python code appear in the UI for the selected node.	Backend Capture / Frontend UI	Essential for debugging logic (Scenario 3).
User Interaction	UI-19.0	Interaction	The system MUST support standard KEYBOARD SHORTCUTS.	Frontend UI	P1	Initial Release	`Delete`/`Backspace` removes selected nodes; `Ctrl+S` triggers Save.	Rete.js / React Hotkeys	Improves editing speed.
User Interaction	UI-20.0	Feedback	The system MUST indicate UNSAVED CHANGES (Dirty State) to the user.	Frontend UI	P1	Initial Release	UI displays an indicator (e.g., asterisk or "Unsaved") when the graph is modified.	Frontend State Management	Prevents data loss (Scenarios 1 & 2).
User Interaction	UI-21.0	Feedback	Nested Sheet Nodes MUST be VISUALLY DISTINCT from standard Function Nodes.	Frontend UI	P2	Initial Release	Different color or icon to indicate it is a linked sheet, not raw code.	Rete.js Custom Node	Improves usability for Drill-down (Scenario 7).
User Interaction	UI-22.0	Interaction	The system MUST provide a TABLE VIEW sidebar/panel displaying all Parameters, Input Nodes, and Output Nodes in the current sheet.	Frontend UI	P1	Initial Release	Lists all Parameter, Input, and Output nodes; allows editing parameter values; updates in real-time.	React Component	Provides an alternative view to the graph.
User Interaction	UI-23.0	Accessibility/UI	The system MUST support both LIGHT and DARK color themes, automatically adapting to the user's system preference.	Frontend UI	P1	Initial Release	UI elements (including Table View) render with appropriate contrast in dark mode.	CSS Media Queries	Ensures usability in different environments.
User Interaction	UI-24.0	Interaction	The system MUST automatically OPEN the Node Inspector/Editor dialog immediately after a user adds a new node.	Frontend UI	P1	Initial Release	Adding a node via toolbar or context menu immediately triggers the edit modal for that node.	Frontend State Management	Reduces clicks for common workflow.
User Interaction	UI-25.0	Feedback	The system MUST mark the sheet as UNSAVED (Dirty) when a user modifies a Parameter's value or a Function's code/description, not just on graph topology changes.	Frontend UI	P1	Initial Release	Changing values or code triggers the dirty state indicator (UI-20.0).	Frontend State Management	Ensures data integrity for non-structural changes.
User Interaction	UI-26.0	Interaction	The system MUST provide a "Copy Table" button in the Table View to export the current parameter/input/output data to the clipboard in TSV format.	Frontend UI	P2	Initial Release	Clicking the button copies tab-separated values (Name, Type, Value) compatible with Excel/Google Sheets.	Clipboard API	Facilitates data export and reporting.
User Interaction	UI-27.0	Automation	The system MUST automatically TRIGGER A CALCULATION when a sheet is loaded if it contains NO Input Nodes OR if all Input Nodes have values provided via URL Query Parameters.	Frontend UI	P2	Initial Release	Sheet loads and immediately shows calculated results without user intervention in these cases.	React/useEffect	Improves user experience for "read-only" or "shared link" scenarios.
Data Handling	DH-05.0	Retrieval	The system MUST provide an API to LIST sheets with metadata (UUID, Name, Updated At), filterable by Owner.	Backend API	P1	Initial Release	Endpoint returns JSON list sorted by last modified.	PostgreSQL	Backs the Dashboard UI.
Data Handling	DH-06.0	Manipulation	The system MUST provide an API to CLONE a sheet, creating a deep copy with new UUIDs for all entities.	Backend API	P2	Initial Release	New sheet has new UUID; all internal links preserved; Owner set to current user.	PostgreSQL	Backs the Duplicate UI.
Data Handling	DH-08.0	Persistence	Values injected via URL Query Strings (Preview Mode) MUST NOT be persisted to the database.	Data Persistence	P1	Initial Release	Save operations must ignore transient overrides unless explicitly committed by the user.	Backend Logic	Protects the "Golden Master" state (Scenario 6).
Building Block: Folder	BB-FOL-01.0	Data Structure	A Folder MUST represent a CONTAINER for Sheets and other Folders.	Folder Structure	P1	Initial Release	Folders can contain sheets and sub-folders.	PostgreSQL	Organizes the workspace.
Building Block: Folder	BB-FOL-02.0	Hierarchy	Folders MUST support NESTING (Folders within Folders).	Folder Structure	P1	Initial Release	Infinite depth (within reason) of folder nesting.	Adjacency List Model	Allows hierarchical organization.
Building Block: Folder	BB-FOL-03.0	Integration	The Dashboard MUST allow users to NAVIGATE the folder hierarchy.	Frontend UI	P1	Initial Release	Users can click folders to enter them and use a "Back" or "Up" button to exit.	React Router/State	Standard file system navigation.
Building Block: Folder	BB-FOL-04.0	Integration	Sheets MUST belong to a Folder (or the root).	Data Model	P1	Initial Release	Every sheet has an optional `folder_id`.	PostgreSQL Foreign Key	Links sheets to their location.
GenAI Integration	AI-01.0	Functional	The system MUST allow users to GENERATE or UPDATE Function definitions using a GEMINI AI prompt.	GenAI	P2	Initial Release	User enters a prompt, and the system populates input/output/code.	Google Gemini API	Enhances usability.
GenAI Integration	AI-02.0	Integration	The Backend MUST provide an API endpoint to proxy requests to Gemini.	GenAI	P2	Initial Release	Backend abstracts API key handling.	Python SDK	Security requirement.
GenAI Integration	AI-03.0	UI/UX	The Function Inspector MUST provide a "Generate with AI" interface.	GenAI	P2	Initial Release	Prompt input field + "Generate" button.	Frontend UI	Accessible from the editor.
