"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[572],{5756(e,o,n){n.d(o,{R:()=>s,x:()=>c});var r=n(9471);const t={},i=r.createContext(t);function s(e){const o=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function c(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(i.Provider,{value:o},e.children)}},9741(e,o,n){n.r(o),n.d(o,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>s,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"deployment/docker-compose","title":"Docker Compose Deployment","description":"For production environments, Parascope provides an optimized Docker configuration that serves the frontend via Nginx and proxies requests to the backend. This setup ensures better performance and security compared to the development configuration.","source":"@site/docs/deployment/docker-compose.md","sourceDirName":"deployment","slug":"/deployment/docker-compose","permalink":"/parascope/docs/deployment/docker-compose","draft":false,"unlisted":false,"editUrl":"https://github.com/tokoro10g/parascope/tree/main/docs/docs/deployment/docker-compose.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Deployment","permalink":"/parascope/docs/category/deployment"},"next":{"title":"Development","permalink":"/parascope/docs/category/development"}}');var t=n(2615),i=n(5756);const s={sidebar_position:1},c="Docker Compose Deployment",d={},l=[{value:"Production Setup",id:"production-setup",level:2},{value:"Architecture Overview",id:"architecture-overview",level:3},{value:"Configuration",id:"configuration",level:3},{value:"Stopping the Services",id:"stopping-the-services",level:3}];function a(e){const o={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.header,{children:(0,t.jsx)(o.h1,{id:"docker-compose-deployment",children:"Docker Compose Deployment"})}),"\n",(0,t.jsx)(o.p,{children:"For production environments, Parascope provides an optimized Docker configuration that serves the frontend via Nginx and proxies requests to the backend. This setup ensures better performance and security compared to the development configuration."}),"\n",(0,t.jsx)(o.h2,{id:"production-setup",children:"Production Setup"}),"\n",(0,t.jsxs)(o.p,{children:["To start Parascope in production mode, use the ",(0,t.jsx)(o.code,{children:"docker-compose.prod.yml"})," file:"]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-bash",children:"docker compose -f docker-compose.prod.yml up --build -d\n"})}),"\n",(0,t.jsx)(o.h3,{id:"architecture-overview",children:"Architecture Overview"}),"\n",(0,t.jsx)(o.p,{children:"This production configuration includes several key differences from the development setup:"}),"\n",(0,t.jsxs)(o.ol,{children:["\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"Optimized Frontend Build"}),": The frontend uses a multi-stage Docker build. It compiles the React application into static files and serves them using a lightweight ",(0,t.jsx)(o.strong,{children:"Nginx"})," container."]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"Reverse Proxy"}),": Nginx acts as a reverse proxy, serving the frontend on port ",(0,t.jsx)(o.code,{children:"80"})," (or configured port) and forwarding API requests (",(0,t.jsx)(o.code,{children:"/api/..."}),") to the backend service. This eliminates CORS issues and simplifies SSL configuration."]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"Production Backend"}),": The backend runs without hot-reloading enabled, optimizing it for stability and performance."]}),"\n"]}),"\n",(0,t.jsx)(o.h3,{id:"configuration",children:"Configuration"}),"\n",(0,t.jsxs)(o.p,{children:["Ensure your ",(0,t.jsx)(o.code,{children:".env"})," file is properly configured for production, especially:"]}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.code,{children:"SERVER_HOSTNAME"}),": Set to your public domain or IP address."]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.code,{children:"DATABASE_URL"}),": Ensure it points to your production database (if external)."]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.code,{children:"DEBUG"}),": Set to ",(0,t.jsx)(o.code,{children:"false"}),"."]}),"\n"]}),"\n",(0,t.jsx)(o.h3,{id:"stopping-the-services",children:"Stopping the Services"}),"\n",(0,t.jsx)(o.p,{children:"To stop the production services:"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-bash",children:"docker compose -f docker-compose.prod.yml down\n"})})]})}function p(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}}}]);